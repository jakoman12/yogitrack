<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>YogiTrack • Check-ins</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body class="layout--sidebar">
  <aside class="sidebar">
    <a class="logo-wrap" href="dashboard.html">
      <img src="../images/Logo.png" alt="YogiTrack Logo" class="logo">
    </a>
    <nav class="nav">
      <a href="instructor.html">Instructors</a>
      <a href="package.html">Packages</a>
      <a href="class.html">Class Schedule</a>
      <a href="customer.html">Customers</a>
      <a href="sale.html">Sales</a>
      <a href="attendance.html">Check-ins</a>
      <a href="../index.html">Log Out</a>
    </nav>
  </aside>

  <main class="main-content">
    <h2 class="page-title">Record Class Attendance</h2>
    
    <div class="flex-row" style="gap: 2rem; display: flex; align-items: flex-start;">
      <section class="card half" style="flex: 1;">
        <h3>Check-in Form</h3>
        <form id="attendanceForm">

      <label>Instructor
        <select name="instructorId" id="instructorSelect" required>
          <option value="">Select Instructor...</option>
        </select>
      </label>

      <label>Class
        <select name="classId" id="classSelect" required disabled>
          <option value="">Select Class...</option>
        </select>
      </label>

      <div id="scheduleInfo" style="display: none; padding: 10px; background: #e8f4f8; border-radius: 4px; margin: 10px 0;">
        <strong>Class Schedule:</strong> <span id="scheduleDetails"></span>
      </div>

      <label>Date
        <input type="date" name="date" id="attendanceDate" required>
      </label>

      <label>Time
        <input type="time" name="time" id="attendanceTime" required>
      </label>

      <div id="scheduleWarning" style="display: none; padding: 10px; background: #fff3cd; border-left: 4px solid #ffc107; margin: 10px 0;">
        <strong>⚠️ Warning:</strong> <span id="warningMessage"></span>
      </div>

      <label>Select Customers
        <div id="customerCheckboxes" style="max-height: 200px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; background: #f9f9f9;">
          <p>Loading customers...</p>
        </div>
      </label>

          <div class="btn-row">
            <button type="button" id="recordAttendanceBtn" class="btn btn--primary">Record Attendance</button>
            <button type="button" id="refreshBtn" class="btn">Refresh List</button>
          </div>
        </form>
      </section>

      <section class="card half" style="flex: 1;" id="attendanceList">
        <h3>Recent Attendance Records</h3>
        <ul id="attendanceRecords"></ul>
      </section>
    </div>
  </main>

  <script src="../js/attendance.js"></script>
</body>
</html>
